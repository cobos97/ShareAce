<ion-header no-border color="primary">
    <ion-toolbar color="primary">
        <ion-buttons slot="start">
            <ion-menu-toggle>
                <ion-button>
                    <ion-icon name="menu" slot="icon-only"></ion-icon>
                </ion-button>
            </ion-menu-toggle>
        </ion-buttons>
        <ion-title>
            ShareAce
        </ion-title>
    </ion-toolbar>

    <ion-segment [(ngModel)]="category" (ionChange)="slides.slideTo(category)"
                 style="background-color:var(--ion-color-primary-tint)"
                 color="black">
        <ion-segment-button layout="icon-start" value="0" style="--padding-end:0px;--padding-start:0px">
            <ion-icon name="mail" style="margin-right:1px;zoom:0.8"></ion-icon>
            <ion-label>Ofertas</ion-label>
        </ion-segment-button>
        <ion-segment-button layout="icon-start" value="1" style="--padding-end:0px;--padding-start:0px">
            <ion-icon name="contacts" style="margin-right:1px;zoom:0.8"></ion-icon>
            <ion-label>Aceptadas</ion-label>
        </ion-segment-button>
    </ion-segment>
    <div id='indicator' class="SwipedTabs-indicatorSegment" [ngStyle]="
    {'width.%': (100/this.tabs.length)}" style="margin-top:2px" color="primary"></div>

</ion-header>

<ion-content>

    <ion-slides #slides (ionSlideTransitionStart)="updateIndicatorPosition();updateCat(slides.getActiveIndex())"
                (ionSlideWillChange)="updateIndicatorPosition()" (ionSlideDidChange)="updateIndicatorPosition()"
                #SwipedTabsSlider
                (ionSlideDrag)="animateIndicator($event)">
        <ion-slide>
            <ion-content class="fixed-scroll">

                <ion-refresher (ionRefresh)="doRefresh($event)">
                    <ion-refresher-content
                            pullingIcon="arrow-dropdown"
                            pullingText="Arrastra para refrescar"
                            refreshingSpinner="crescent"
                            refreshingText="Cargando...">
                    </ion-refresher-content>
                </ion-refresher>
                <ion-list #dynamicList id="dynamicList">
                    <ion-item-sliding *ngFor="let item of listadoPanel;let i = index">
                        <ion-item>
                            <ion-label><h2>{{item.tipo}}</h2>
                                <p>Hay {{item.plazas}} plazas ofertadas.</p>
                                <p>Fecha: {{item.fecha}}</p>
                                <p>Ofertada por: {{item.ofertante}}</p>
                            </ion-label>
                            <ion-button  (click)="aceptarOferta(item)"></ion-button>
                        </ion-item>
                        <ion-item-options side="start">
                            <ion-item-option color="primary"
                                             (click)="aceptarOferta(item)">
                                <ion-icon name="checkmark" style="zoom:2.0;"></ion-icon>
                            </ion-item-option>
                        </ion-item-options>
                        <!--<ion-item-options side="start"></ion-item-options>-->
                    </ion-item-sliding>
                </ion-list>
                <!--
                <ion-infinite-scroll #infiniteScroll threshold="10px" (ionInfinite)="updateUser($event,false)">
                    <ion-infinite-scroll-content loadingSpinner="null" loadingText="">

                         <img src="../../../assets/imgs/loading.svg"
                             style="width:48px !important;margin:auto;position:relative">

                    </ion-infinite-scroll-content>
                </ion-infinite-scroll>
                -->
            </ion-content>
        </ion-slide>
        <ion-slide>
            <ion-content class="fixed-scroll">

                <ion-content class="fixed-scroll">

                    <ion-refresher (ionRefresh)="doRefresh($event)">
                        <ion-refresher-content
                                pullingIcon="arrow-dropdown"
                                pullingText="Arrastra para refrescar"
                                refreshingSpinner="crescent"
                                refreshingText="Cargando...">
                        </ion-refresher-content>
                    </ion-refresher>
                    <ion-list #dynamicList id="dynamicList2">
                        <ion-item-sliding *ngFor="let item of prueba2;let i = index">
                            <ion-item>
                                <ion-label><h2>{{item.tipo}}</h2>
                                    <p>Quedan {{item.plazas}} plazas ofertadas.</p>
                                    <p>Fecha: {{item.fecha}}</p>
                                <p>Ofertada por: {{item.ofertante}}</p></ion-label>
                                <ion-button (click)="aceptarOferta(item)"></ion-button>
                            </ion-item>
                            <ion-item-options side="end">
                                <ion-item-option color="red"
                                                 (click)="aceptarOferta(item)">
                                    <ion-icon name="checkmark" style="zoom:2.0;"></ion-icon>
                                </ion-item-option>
                            </ion-item-options>
                        </ion-item-sliding>
                    </ion-list>

                </ion-content>

            </ion-content>
        </ion-slide>
    </ion-slides>

    <ion-fab vertical="bottom" horizontal="end" slot="fixed">
        <ion-fab-button (click)="nuevaOfertaModal()">
            <ion-icon name="add"></ion-icon>
        </ion-fab-button>
    </ion-fab>

</ion-content>
